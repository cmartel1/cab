<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mario Power-Ups</title>
    <style>
        body {
            font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
            text-align: center;
            margin: 20px;
            background-color: orange; 
            color: black;
        }

        h1 {
            font-size: 2em;
            margin-top: 30px;
            margin-bottom: 20px;
            font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;

        }

        #cases {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-evenly;
        }

        .case-row {
            display: flex;
            flex-basis: 100%;
            margin-bottom: 20px;
            justify-content: space-evenly;
        }

        .case {
            flex: 0 0 10%;
            margin: 10px;
            cursor: pointer;
            border: 3px solid #2b2b2b;
            border-radius: 10px;
            overflow: hidden;
            position: relative;
            transition: transform 0.2s;
            background-color: #f9e500; /* Darker background color */
        }

        .case:hover {
            transform: scale(1.05);
        }

        .case img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 7px;
        }

        .highlighted {
            border-color: gold;
        }

        #resetButton {
            padding: 10px;
            font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
            color: black;
            border: 3px solid #2b2b2b;
            border-radius: 5px;
            width: 100px;
            cursor: pointer;
            transition: transform 0.2s;
            background-color: gold; /* Green background color */
        }

        #resetButton:hover {
            transform: scale(1.05);
        }

        #navbar {
            background-color: black; /* Darker background color for the navbar */
            padding: 10px;
            border-radius: 10px;
            display: flex;
            justify-content: space-evenly;
            margin-bottom: 20px;
        }

        #navbar a {
            color: white;
            text-decoration: none;
            font-size: 1.2em;
            margin: 0 15px;
        }

        #navbar a:hover {
            border-bottom: 2px solid gold;
        }

        /* Media Queries for responsiveness */
        @media only screen and (max-width: 768px) {
            .case {
                flex: 0 0 20%;
            }
        }

        @media only screen and (max-width: 480px) {
            .case {
                flex: 0 0 40%;
            }
        }
        #scoreBox {
            position: fixed;
            bottom: 10px;
            left: 10px;
            font-size: 1.2em;
            color: white;
        }
    </style>
</head>
<body>

<h1>Mario Power-Up Panels</h1>
<div id="navbar">
    <a href="pickcases.html">Cases</a>
    <a href="mario.html">Mario</a>
    <a href="montyhall.html">Monty Hall</a>
</div>
<div id="cases">
    <!-- Row 1 -->
    <div class="case-row">
        <div class="case" onclick="changeImage(0)">
            <img src="images/mario/mariomystery.png" alt="Case 1">
        </div>
        <div class="case" onclick="changeImage(1)">
            <img src="images/mario/mariomystery.png" alt="Case 2">
        </div>
        <div class="case" onclick="changeImage(2)">
            <img src="images/mario/mariomystery.png" alt="Case 3">
        </div>
        <div class="case" onclick="changeImage(3)">
            <img src="images/mario/mariomystery.png" alt="Case 4">
        </div>
        <div class="case" onclick="changeImage(4)">
            <img src="images/mario/mariomystery.png" alt="Case 5">
        </div>
        <div class="case" onclick="changeImage(5)">
            <img src="images/mario/mariomystery.png" alt="Case 6">
        </div>
        <div class="case" onclick="changeImage(6)">
            <img src="images/mario/mariomystery.png" alt="Case 7">
        </div>
        <div class="case" onclick="changeImage(7)">
            <img src="images/mario/mariomystery.png" alt="Case 8">
        </div>
    </div>

    <!-- Row 2 -->
    <div class="case-row">
        <div class="case" onclick="changeImage(8)">
            <img src="images/mario/mariomystery.png" alt="Case 9">
        </div>
        <div class="case" onclick="changeImage(9)">
            <img src="images/mario/mariomystery.png" alt="Case 10">
        </div>
        <div class="case" onclick="changeImage(10)">
            <img src="images/mario/mariomystery.png" alt="Case 11">
        </div>
        <div class="case" onclick="changeImage(11)">
            <img src="images/mario/mariomystery.png" alt="Case 12">
        </div>
        <div class="case" onclick="changeImage(12)">
            <img src="images/mario/mariomystery.png" alt="Case 13">
        </div>
        <div class="case" onclick="changeImage(13)">
            <img src="images/mario/mariomystery.png" alt="Case 14">
        </div>
        <div class="case" onclick="changeImage(14)">
            <img src="images/mario/mariomystery.png" alt="Case 15">
        </div>
        <div class="case" onclick="changeImage(15)">
            <img src="images/mario/mariomystery.png" alt="Case 16">
        </div>
    </div>

    <!-- Row 3 -->
    <div class="case-row">
        <div class="case" onclick="changeImage(16)">
            <img src="images/mario/mariomystery.png" alt="Case 17">
        </div>
        <div class="case" onclick="changeImage(17)">
            <img src="images/mario/mariomystery.png" alt="Case 18">
        </div>
        <div class="case" onclick="changeImage(18)">
            <img src="images/mario/mariomystery.png" alt="Case 19">
        </div>
        <div class="case" onclick="changeImage(19)">
            <img src="images/mario/mariomystery.png" alt="Case 20">
        </div>
        <div class="case" onclick="changeImage(20)">
            <img src="images/mario/mariomystery.png" alt="Case 21">
        </div>
        <div class="case" onclick="changeImage(21)">
            <img src="images/mario/mariomystery.png" alt="Case 22">
        </div>
        <div class="case" onclick="changeImage(22)">
            <img src="images/mario/mariomystery.png" alt="Case 23">
        </div>
        <div class="case" onclick="changeImage(23)">
            <img src="images/mario/mariomystery.png" alt="Case 24">
        </div>
    </div>
    <button id="resetButton" onclick="resetGame()">Reset</button>
    <div id="scoreBox">Score: <span id="score">0</span></div>
    <script>
        // Array of image sources
        var images = [
            "images/mario/iceflower.png",
            "images/mario/fireflower.png",
            "images/mario/penguin.png",
            "images/mario/tiny.png",
            "images/mario/giant.png",
            "images/mario/mushroom.png",
            "images/mario/star.png",
            "images/mario/life.png",
            "images/mario/monster.png",
            "images/mario/monster.png",
            "images/mario/babybowser.png",
            "images/mario/babybowser.png",
            "images/mario/helicopter.png",
            "images/mario/iceflower.png",
            "images/mario/fireflower.png",
            "images/mario/penguin.png",
            "images/mario/tiny.png",
            "images/mario/giant.png",
            "images/mario/mushroom.png",
            "images/mario/star.png",
            "images/mario/life.png",
            "images/mario/mariocoin.png",
            "images/mario/mariocoin.png",
            "images/mario/helicopter.png",
        ];


        var images = [
        "iceflower.png",
        "fireflower.png",
        "penguin.png",
        "tiny.png",
        "giant.png",
        "mushroom.png",
        "star.png",
        "life.png",
        "monster.png",
        "babybowser.png",
        "helicopter.png",
        // Repeat or add more images as needed
    ];
    var selectedCases = [];
    var score = 0;
    var isClickable = true;

    function enableAllCases() {
        var cases = document.getElementsByClassName("case");
        for (var i = 0; i < cases.length; i++) {
            cases[i].onclick = function () {
                changeImage(this);
            };
        }
    }

    function resetCase(caseElement) {
        caseElement.querySelector('img').src = "mariomystery.png";
        caseElement.classList.remove('highlighted');
    }

    function revertToMystery() {
        for (var i = 0; i < selectedCases.length; i++) {
            resetCase(selectedCases[i]);
        }
        selectedCases = [];
        isClickable = true;
        enableAllCases();
    }

    function changeImage(caseElement) {
        if (!isClickable || caseElement.classList.contains('matched') || selectedCases.length >= 2) {
            return;
        }

        var randomIndex = Math.floor(Math.random() * images.length);
        var selectedImage = images[randomIndex];
        images.splice(randomIndex, 1);

        caseElement.querySelector('img').src = selectedImage;

        selectedCases.push(caseElement);

        if (selectedCases.length === 2) {
            isClickable = false;

            setTimeout(function () {
                var image1 = selectedCases[0].querySelector('img').src;
                var image2 = selectedCases[1].querySelector('img').src;

                if (image1 === image2) {
                    selectedCases[0].classList.add('matched');
                    selectedCases[1].classList.add('matched');
                    score++;

                    document.getElementById('score').innerText = score;

                    if (score === images.length / 2) {
                        alert("Congratulations! You've found all matches!");
                    }
                } else {
                    revertToMystery();
                }

                selectedCases = [];
                isClickable = true;
            }, 3000);
        }
    }

    function resetGame() {
        // Reset the game by shuffling the images array and resetting the score
        images = shuffleArray(images);
        score = 0;
        document.getElementById('score').innerText = score;

        // Reset all cases to the mystery image
        var cases = document.getElementsByClassName("case");
        for (var i = 0; i < cases.length; i++) {
            resetCase(cases[i]);
            cases[i].classList.remove('matched');
        }

        // Re-enable all cases
        selectedCases = [];
        isClickable = true;
        enableAllCases();
    }

    // Function to shuffle the array
    function shuffleArray(array) {
        for (var i = array.length - 1; i > 0; i--) {
            var j = Math.floor(Math.random() * (i + 1));
            var temp = array[i];
            array[i] = array[j];
            array[j] = temp;
        }
        return array;
    }

    // Initial shuffle of the images array
    images = shuffleArray(images);
</script>
</body>
</html>
